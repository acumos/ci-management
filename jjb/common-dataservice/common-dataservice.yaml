---
- project:
    name: cds-project
    project-name: common-dataservice-build
    project: common-dataservice
    mvn-settings: common-dataservice-settings
    mvn-opts: '{acumos-infra-mvn-opts}'
    # needs docker-enabled build node
    build-node: centos7-docker-4c-4g
    builders:
      - lf-infra-docker-login:
          global-settings-file: global-settings
          settings-file: '{mvn-settings}'
    jobs:
      # maven group has clm, release, verify, verify-dependencies
      - '{project-name}-maven-jobs'
      # javadoc group has -publish and -verify
      - '{project-name}-maven-javadoc-jobs'
      - gerrit-maven-sonar
      # Merge invokes deploy goal
      - gerrit-maven-merge
    stream:
      - master:
          branch: master
