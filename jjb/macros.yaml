---
# Macros

- builder:
    name: publish-pypi
    builders:
      - inject:
          properties-content: PYPI_SERVER={pypi-server}
      - shell:
          !include-raw-escape: ../jjb/acumos-jjb/shell/pypi-publish.sh
- wrapper:
    # This wrapper is required for all jobs as it configures the wrappers
    # needed by acumos infra.
    name: acumos-infra-wrappers
    wrappers:
      - mask-passwords
      - config-file-provider:
          files:
            - file-id: npmrc
              target: '$HOME/.npmrc'
